<!doctype html>
<html>
<head>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.js'></script>
</head>
<body>
<h1>Chetao</h1>
<canvas id="myCanvas" width="270" height="135" style="border:1px solid #d3d3d3;">aaa</canvas>
<script>
    var socket = io.connect('http://localhost:3000', { 'forceNew': true });
    var image;
    socket.on('data', function(data) {
        if (data.image){
            var img = new Image();
            img.src = 'data:image/jpeg;base64,' + data.buffer;
            var ctx = document.getElementById('myCanvas').getContext('2d');
            ctx.drawImage(img, 10, 10);
        }
    });
    function addMessage(message) {
        var text = document.createTextNode(message),
            el = document.createElement('li'),
            messages = document.getElementById('messages');

        el.appendChild(text);
        messages.appendChild(el);
    }
</script>
</body>
</html>